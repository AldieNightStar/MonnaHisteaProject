<html>
<body>
<link rel="stylesheet" type="text/css" href="https://aldienightstar.github.io/MonnaHisteaProject/style.css">
	<div id="layout">
		<nav id="menu">
			<ul>
<li><a class="" href="..\..\index.html">index</a></li>
<li class="heading"><span>blog</span></li>
<ul>
<li><a class="" href="..\..\blog\BLOG.html">BLOG</a></li>
<li><a class="" href="..\..\blog\WhatIsMonna.html">WhatIsMonna</a></li>
<li class="heading"><span>books</span></li>
<ul>
<li><a class="" href="..\..\blog\books\Books.html">Books</a></li>
<li class="heading"><span>short</span></li>
<ul>
<li><a class="" href="..\..\blog\books\short\ShortBooks.html">ShortBooks</a></li>
<li class="heading"><span>citadell</span></li>
<ul>
<li><a class="" href="..\..\blog\books\short\citadell\MAIN.html">MAIN</a></li>
</ul>
<li class="heading"><span>sword</span></li>
<ul>
<li><a class="" href="..\..\blog\books\short\sword\MAIN.html">MAIN</a></li>
</ul>
</ul>
</ul>
<li class="heading"><span>char</span></li>
<ul>
<li><a class="" href="..\..\blog\char\Characters.html">Characters</a></li>
</ul>
<li class="heading"><span>faq</span></li>
<ul>
<li><a class="" href="..\..\blog\faq\Aldie.html">Aldie</a></li>
<li><a class="" href="..\..\blog\faq\FAQ.html">FAQ</a></li>
<li><a class="" href="..\..\blog\faq\Haxi.html">Haxi</a></li>
<li><a class="" href="..\..\blog\faq\Nimf.html">Nimf</a></li>
<li><a class="" href="..\..\blog\faq\Tiff.html">Tiff</a></li>
</ul>
<li><a class="" href="..\..\blog\haxidenti.html">haxidenti</a></li>
<li class="heading"><span>lang</span></li>
<ul>
<li><a class="" href="..\..\blog\lang\AsterionQue.html">AsterionQue</a></li>
</ul>
<li class="heading"><span>legends</span></li>
<ul>
<li><a class="" href="..\..\blog\legends\AsterikoKiberoBros.html">AsterikoKiberoBros</a></li>
<li><a class="" href="..\..\blog\legends\Legends.html">Legends</a></li>
</ul>
<li class="heading"><span>mech</span></li>
<ul>
<li><a class="" href="..\..\blog\mech\Mechanics.html">Mechanics</a></li>
</ul>
<li class="heading"><span>plan</span></li>
<ul>
<li><a class="" href="..\..\blog\plan\Plans.html">Plans</a></li>
</ul>
<li class="heading"><span>story</span></li>
<ul>
<li><a class="" href="..\..\blog\story\Stories.html">Stories</a></li>
</ul>
</ul>
<li class="heading"><span>engine</span></li>
<ul>
<li><a class="" href="..\README.html">README</a></li>
<li class="heading"><span>doc</span></li>
<ul>
<li><a class="" href="Background.html">Background</a></li>
<li><a class="" href="CodeGen_Args.html">CodeGen Args</a></li>
<li><a class="" href="CodeGen_CustomGen.html">CodeGen CustomGen</a></li>
<li><a class="" href="CodeGen_WhatIs.html">CodeGen WhatIs</a></li>
<li><a class="" href="Config.html">Config</a></li>
<li><a class="" href="Effects.html">Effects</a></li>
<li><a class="" href="GameAPI.html">GameAPI</a></li>
<li><a class="" href="Game_v.html">Game v</a></li>
<li><a class="" href="IsNull.html">IsNull</a></li>
<li><a class="" href="Loader.html">Loader</a></li>
<li><a class="" href="MonnaConnect.html">MonnaConnect</a></li>
<li><a class="" href="MonnaConnectClient.html">MonnaConnectClient</a></li>
<li><a class="" href="Music.html">Music</a></li>
<li><a class="" href="Onloads.html">Onloads</a></li>
<li><a class="active" href="Passage.html">Passage</a></li>
<li><a class="" href="PassageSpan.html">PassageSpan</a></li>
<li><a class="" href="Positioning.html">Positioning</a></li>
<li><a class="" href="Quest.html">Quest</a></li>
<li><a class="" href="SaveLoad.html">SaveLoad</a></li>
<li><a class="" href="Sound.html">Sound</a></li>
<li><a class="" href="StoreClassesInVar.html">StoreClassesInVar</a></li>
<li><a class="" href="Table.html">Table</a></li>
<li><a class="" href="TextStory.html">TextStory</a></li>
<li><a class="" href="Timer.html">Timer</a></li>
<li><a class="" href="Util_Lazy.html">Util Lazy</a></li>
<li><a class="" href="Util_Pageable.html">Util Pageable</a></li>
<li><a class="" href="Util_clipboard.html">Util clipboard</a></li>
<li><a class="" href="Util_declick.html">Util declick</a></li>
<li><a class="" href="Util_hash.html">Util hash</a></li>
<li><a class="" href="Util_random.html">Util random</a></li>
<li><a class="" href="Variables.html">Variables</a></li>
<li><a class="" href="VariablesClean.html">VariablesClean</a></li>
<li><a class="" href="bind.html">bind</a></li>
<li><a class="" href="class_reload.html">class reload</a></li>
<li><a class="" href="class_render.html">class render</a></li>
<li><a class="" href="el.html">el</a></li>
<li><a class="" href="el_canvas.html">el canvas</a></li>
<li><a class="" href="el_reusable_elements.html">el reusable elements</a></li>
<li><a class="" href="el_select.html">el select</a></li>
<li><a class="" href="el_seq.html">el seq</a></li>
<li><a class="" href="el_span.html">el span</a></li>
</ul>
<li><a class="" href="..\downloads.html">downloads</a></li>
</ul>
</ul>
		</nav>
		<article id="main" class="content">
			<h1 id="passage">Passage <a class="heading-anchor-permalink" href="#passage">#</a></h1>
<h2 id="notes">Notes <a class="heading-anchor-permalink" href="#notes">#</a></h2>
<ul>
<li><code>Passage</code> is an type of scenes in <code>Monna Histea Engine 2</code> that is using <code>Passage.of</code> API</li>
<li>You can divide passages into a story chapters, locations or even make a lot of scenes</li>
</ul>
<h2 id="creation">Creation <a class="heading-anchor-permalink" href="#creation">#</a></h2>
<ul>
<li>Create <code>ts</code> file with any name in <code>passages</code> folder
<ul>
<li>For example: <code>Story.ts</code></li>
</ul>
</li>
<li><code>s</code> argument - <a href="el_span.html">Uses <code>Span</code> functionality.</a></li>
</ul>
<pre><code class="language-js">// First passage is Start. Is always starting with it
Passage.of(&quot;Start&quot;, s =&gt; {
    s.print(&quot;Hello there!&quot;);
    s.pass(&quot;Go to second passage&quot;, &quot;Second Passage&quot;);
});

// This passage is reusing of template
Passage.ofSequence(&quot;Start&quot;, s =&gt; {
    s
        .text(&quot;Hello there!&quot;)
        .img(&quot;img01.png&quot;, &quot;Good to see you!&quot;)
        .text(&quot;Good bye&quot;);
})
</code></pre>
<h2 id="api">API <a class="heading-anchor-permalink" href="#api">#</a></h2>
<ul>
<li><code>Passage</code> has itâ€™s own <code>API</code> to work with them</li>
</ul>
<pre><code class="language-js">// Returns name of the current Passage you are in
// For example &quot;Start&quot;
Passage.current();

// Returns list of passage names to `goto`
// For example [&quot;Start&quot;, &quot;Second Passage&quot;]
Passage.list();

// Reload current passage
Passage.reload();

// Go to another passage
// name - Passage name. For example &quot;Second Passage&quot;
// args - Give additional arguments for Passage.args()
//
// Returns true if everything is ok
Passage.goto(name, args);

// Fadeout the Passage, call the function, then Fade in
//
// Used in Passage.goto() and Passage.reload()
Passage.fadeChange(func);
</code></pre>
<h2 id="passage-creator-function">Passage creator function <a class="heading-anchor-permalink" href="#passage-creator-function">#</a></h2>
<pre><code class="language-ts">// Create passage in standard way
//
// name   - Name of the passage
// cb     - Callback (s =&gt; void) with el.Span as an API
Passage.of(name, cb);


// Set/Unset the next Passages prefix
// Good in combination with relative naming
Passage.prefix(&quot;Forrest/Home/&quot;);
Passage.prefix();


// Create passage with sequence as a single element
//
// name - Name of the passage
// cb   - Callback (s =&gt; void) with el.SequenceAdder as an API
Passage.ofSequence(name, cb);
Passage.ofSequenceNoBack(name, cb); // Do not allow back-button


// Create passage with choice.
// Supports also timer if need to
//
// name - Name of the passage
// cb   - Callback with ChoicePassageApi API
Passage.ofChoice(name, c =&gt; {
    // Caption or title of the passage
    c.caption(&quot;Choose the color&quot;)

    // Get arguments passed to this Passage or empty list
    c.args()

    // Variant links.
    // caption  - Name of the link
    // passage  - Name of the passage to go to
    // args     - Arguments for the passage
    // callback - Optional callback before go
    c.variant(&quot;red&quot;, &quot;Choiced&quot;, [], callback)
    c.variant(&quot;green&quot;, &quot;Choiced&quot;, [], callback)
    c.variant(&quot;blue&quot;, &quot;Choiced&quot;, [], callback)

    // Add variant with passage reload itself
    // When choosed then will reload current passage with new arguments
    c.reload(&quot;Need more time&quot;, [], callback)

    // Tell that passage will have a timer that will go to another passage on out
    // seconds  - Seconds of the timer to countdown
    // passage  - Passage name to go to
    // args     - Arguments for the passage
    // callback - Optional callback before go
    c.timer(10, &quot;Choiced&quot;, [], callback)
});



// Create linear passage that waits seconds before continue
// It goes by itself and user would not interact
Passage.ofLinear(&quot;Story Passage&quot;, s =&gt; {

    // Print title and wait for 5 seconds to continue
    //
    // sec - Seconds to wait or Music time to wait (if s.mus(...) is used)
    // text  - Text to print
    s.waitTitle(5, &quot;A story about Snowman&quot;)

    // Print text and wait for 5 seconds to continue
    //
    // sec   - Seconds to wait or Music time to wait (if s.mus(...) is used)
    // text  - Text to print
    s.waitText(5 &quot;This was a story of Snowman&quot;)

    // Print text and wait until music goes 0:10 time to continue
    //
    // sec   - Seconds to wait or Music time to wait (if s.mus(...) is used)
    // text  - Text to print
    s.waitText(s.mus(0, 10), &quot;He was felt in love to Bitsie&quot;)

    // Print image and text and wait for 5 seconds to continue
    //
    // sec    - Seconds to wait or Music time to wait (if s.mus(...) is used)
    // text   - Text to print
    // center - Boolean that tells to print everything in center
    s.waitImageText(5, &quot;001.jpg&quot;, &quot;One day, when winter is overed...&quot;, center)

    // Print typing text and wait for 3 seconds after it to continue
    //
    // sec    - Seconds to wait or Music time to wait (if s.mus(...) is used)
    // text   - Text to print
    s.waitImageText(3, &quot;And the Snowman stand on his feet and trying to go&quot;)

    // Immediately chaning passage to another
    //
    // passage - Name of the passage to go
    // args    - Passage arguments to pass
    s.pass(&quot;Ending&quot;, ['ended'])

    // Reload passage on the next action
    s.act(() =&gt; Passage.reload([0]));

    // Get args for that Passage
    s.args
});

// Create Canvas Passage. It will create passage that prints a full-sized passage
// Expects function that accepts CanvasApi, and el.Span itself
Passage.ofCanvas(&quot;Canvas Passage&quot;, (canvasApi, s) =&gt; {
	
	// Please, refer to el.canvas doc for more

})
</code></pre>

		</article>
	</div>
</body>
</html>