<html>
<body>
<link rel="stylesheet" type="text/css" href="https://aldienightstar.github.io/MonnaHisteaProject/style.css">
	<div id="layout">
		<nav id="menu">
			<ul>
<li><a class="" href="..\..\index.html">index</a></li>
<li class="heading"><span>blog</span></li>
<ul>
<li><a class="" href="..\..\blog\BLOG.html">BLOG</a></li>
<li><a class="" href="..\..\blog\WhatIsMonna.html">WhatIsMonna</a></li>
<li class="heading"><span>books</span></li>
<ul>
<li><a class="" href="..\..\blog\books\Books.html">Books</a></li>
<li class="heading"><span>short</span></li>
<ul>
<li><a class="" href="..\..\blog\books\short\ShortBooks.html">ShortBooks</a></li>
<li class="heading"><span>citadell</span></li>
<ul>
<li><a class="" href="..\..\blog\books\short\citadell\MAIN.html">MAIN</a></li>
</ul>
<li class="heading"><span>sword</span></li>
<ul>
<li><a class="" href="..\..\blog\books\short\sword\MAIN.html">MAIN</a></li>
</ul>
</ul>
</ul>
<li class="heading"><span>char</span></li>
<ul>
<li><a class="" href="..\..\blog\char\Characters.html">Characters</a></li>
</ul>
<li class="heading"><span>faq</span></li>
<ul>
<li><a class="" href="..\..\blog\faq\Aldie.html">Aldie</a></li>
<li><a class="" href="..\..\blog\faq\FAQ.html">FAQ</a></li>
<li><a class="" href="..\..\blog\faq\Haxi.html">Haxi</a></li>
<li><a class="" href="..\..\blog\faq\Nimf.html">Nimf</a></li>
<li><a class="" href="..\..\blog\faq\Tiff.html">Tiff</a></li>
</ul>
<li><a class="" href="..\..\blog\haxidenti.html">haxidenti</a></li>
<li class="heading"><span>lang</span></li>
<ul>
<li><a class="" href="..\..\blog\lang\AsterionQue.html">AsterionQue</a></li>
</ul>
<li class="heading"><span>legends</span></li>
<ul>
<li><a class="" href="..\..\blog\legends\AsterikoKiberoBros.html">AsterikoKiberoBros</a></li>
<li><a class="" href="..\..\blog\legends\Legends.html">Legends</a></li>
</ul>
<li class="heading"><span>mech</span></li>
<ul>
<li><a class="" href="..\..\blog\mech\Mechanics.html">Mechanics</a></li>
</ul>
<li class="heading"><span>plan</span></li>
<ul>
<li><a class="" href="..\..\blog\plan\Plans.html">Plans</a></li>
</ul>
<li class="heading"><span>story</span></li>
<ul>
<li><a class="" href="..\..\blog\story\Stories.html">Stories</a></li>
</ul>
</ul>
<li class="heading"><span>engine</span></li>
<ul>
<li><a class="" href="..\README.html">README</a></li>
<li class="heading"><span>doc</span></li>
<ul>
<li><a class="" href="Background.html">Background</a></li>
<li><a class="" href="CodeGen_Args.html">CodeGen Args</a></li>
<li><a class="" href="CodeGen_CustomGen.html">CodeGen CustomGen</a></li>
<li><a class="" href="CodeGen_WhatIs.html">CodeGen WhatIs</a></li>
<li><a class="" href="Config.html">Config</a></li>
<li><a class="" href="Effects.html">Effects</a></li>
<li><a class="" href="GameAPI.html">GameAPI</a></li>
<li><a class="" href="Game_v.html">Game v</a></li>
<li><a class="" href="IsNull.html">IsNull</a></li>
<li><a class="" href="Loader.html">Loader</a></li>
<li><a class="" href="MonnaConnect.html">MonnaConnect</a></li>
<li><a class="" href="MonnaConnectClient.html">MonnaConnectClient</a></li>
<li><a class="" href="Music.html">Music</a></li>
<li><a class="" href="Onloads.html">Onloads</a></li>
<li><a class="" href="Passage.html">Passage</a></li>
<li><a class="" href="PassageSpan.html">PassageSpan</a></li>
<li><a class="" href="Positioning.html">Positioning</a></li>
<li><a class="" href="Quest.html">Quest</a></li>
<li><a class="" href="SaveLoad.html">SaveLoad</a></li>
<li><a class="" href="Sound.html">Sound</a></li>
<li><a class="" href="StoreClassesInVar.html">StoreClassesInVar</a></li>
<li><a class="" href="Table.html">Table</a></li>
<li><a class="" href="TextStory.html">TextStory</a></li>
<li><a class="" href="Timer.html">Timer</a></li>
<li><a class="" href="Util_Lazy.html">Util Lazy</a></li>
<li><a class="" href="Util_Pageable.html">Util Pageable</a></li>
<li><a class="" href="Util_clipboard.html">Util clipboard</a></li>
<li><a class="" href="Util_declick.html">Util declick</a></li>
<li><a class="" href="Util_hash.html">Util hash</a></li>
<li><a class="" href="Util_random.html">Util random</a></li>
<li><a class="" href="Variables.html">Variables</a></li>
<li><a class="" href="VariablesClean.html">VariablesClean</a></li>
<li><a class="" href="bind.html">bind</a></li>
<li><a class="" href="class_reload.html">class reload</a></li>
<li><a class="" href="class_render.html">class render</a></li>
<li><a class="" href="el.html">el</a></li>
<li><a class="active" href="el_canvas.html">el canvas</a></li>
<li><a class="" href="el_reusable_elements.html">el reusable elements</a></li>
<li><a class="" href="el_select.html">el select</a></li>
<li><a class="" href="el_seq.html">el seq</a></li>
<li><a class="" href="el_span.html">el span</a></li>
</ul>
<li><a class="" href="..\downloads.html">downloads</a></li>
</ul>
</ul>
		</nav>
		<article id="main" class="content">
			<h1 id="canvas-element">Canvas Element <a class="heading-anchor-permalink" href="#canvas-element">#</a></h1>
<h2 id="note">Note <a class="heading-anchor-permalink" href="#note">#</a></h2>
<ul>
<li>Allows to create advanced drawable canvas for the novels or more interactive minigames</li>
</ul>
<h2 id="api">API <a class="heading-anchor-permalink" href="#api">#</a></h2>
<pre><code class="language-ts">// Creates &lt;canvas&gt; element
//
// w    - Width in pixels
// h    - Height in pixels
// cb   - Callback to call: (canvasAPI) =&gt; {}
//
// Returns canvas element to work with. Can be reloaded by `el.reload`
el.canvas(w, h, async api =&gt; {

    // canvas element itself
    api.canvas

    // Context 2D of the canvas
    api.ctx;

    // Wait for click
    // Returns canvas local x, y coordinates
    const [x, y] = await api.waitClick();

	// Get width and height of the canvas
	const [w, h] = api.size();

	// Draw a rectangle
	// Uses color(name) for color
	//
	// x, y - Coordinates
	// w, h - Size
	api.rect(x, y, w, h);

	// Draw text
	// Uses font(name, size) for font settings
	//
	// t    - Text string
	// x, y - Coordinates
	api.text(t, x, y);

	// Set color
	api.color(&quot;red&quot;);

	// Set font name and size in pixels
	api.font(&quot;Arial&quot;, 32)

	// Draw an image
	// img  - Image to draw
	// x, y - Coordinates
	// w, h - Size 
	api.image(img, x, y, w, h);

	// Draw rotated Image
	// img    - Image itself
	// x, y   - Coordinates
	// w, h   - Size
	// degree - Rotation Degree (0 - 360)
	// ax, ay - Anchor Coordinates (Pivot)
	api.imageRotated(img, x, y, w, h, degree, ax, ay);


	// Draw rotated Rectangle
	// x, y   - Coordinates
	// w, h   - Size
	// degree - Rotation Degree (0 - 360)
	// ax, ay - Anchor Coordinates (Pivot)
	api.rectRotated(img, x, y, w, h, degree, ax, ay);

	// Get Sprite (Part from the image)
	// img  - Image itself
	// x, y - Coordinates of subimage
	// w, h - Size of subimage
	api.spriteOf(img, x, y, w, h);

	// Get tileset from Image
	// img - Image itself
	// w   - Width of a Single tile
	// h   - Height of a single tile
	//
	// Returns list of Sprites (Images)
	api.tileSet(img, w, h);

	// Clear the canvas
	api.clear();

	// Automatic updates in timer
	// Runs each 15 ms and clears the canvas before it
	// Stops when passage changes or canvas gets deleted
	api.drawing(() =&gt; {
		// Logic goes here
	});

	// Change global opacity of the canvas
	// Values between 0 and 1
	api.opacity(n);

	// Draw rotated something as rotated. X and Y could 0, 0
	// deg              - Degrees (0 - 360)
	// anchorX, anchorY - Anchor coordinates (Pivot)
	// fn               - Function that draws rotated elements
	api.rotated(deg, x, y, fn);
})
</code></pre>
<ul>
<li>⚠️ <code>api.dat</code> Will not work here. It always set to <code>{}</code></li>
</ul>
<h2 id="tiled">Tiled <a class="heading-anchor-permalink" href="#tiled">#</a></h2>
<ul>
<li>You can also make rogue-like games with text, images, and rectangles</li>
</ul>
<pre><code class="language-ts">// Get tiled API
// w - Single tile width in pixels
// h - Single tile height in pixels
const t = api.tiled(w, h);

// Draw rectangle at tile position
t.rect(x, y);

// Draw `t` string at tile position (One symbol is recommended)
t.text(t, x, y);

// Draw tile with image on it
// Images, created by api.tileSet(...) - is also supported
t.image(image, x, y);

// Set color for future tiles
t.color(&quot;red&quot;);

// Set font for future texts
// Size of font is equal to height of a single tile
t.font(name);

// Waits for click on tile
// Returns x, y tile coordinates
const [x, y] = await t.waitClick();
</code></pre>

		</article>
	</div>
</body>
</html>